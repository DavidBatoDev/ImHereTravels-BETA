<!-- initialPaymentReminder.html - Nunjucks Version -->
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upcoming Payment Reminder</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
  </style>
</head>

<body>
  <div style="font-family: Arial, sans-serif; background-color: #f5f5f5; margin: 0; padding: 0;">

    <!-- Header with Logo -->
    <div style="text-align: center; padding: 20px; background-color: #ffffff;">
      <img
            src="https://firebasestorage.googleapis.com/v0/b/imheretravels-a3f81.firebasestorage.app/o/images%2F1768292814673_%F0%9F%9A%A3%20Logo%20Center%20(Row%20For%20Content%20Columns).png?alt=media&token=476fb69b-4cd5-4c56-901a-9190c15685f0"
            alt="ImHereTravels Logo"
            style="width: 90%; max-width: 550px; height: auto; display: block; margin: 0 auto;"
            />
    </div>

    <!-- Hero Image -->
    <div style="width: 100%; margin: 0 auto;">
      <img
            src="{% if tourPackageCoverImage %}{{ tourPackageCoverImage }}{% else %}https://firebasestorage.googleapis.com/v0/b/imheretravels-a3f81.firebasestorage.app/o/images%2F1767334951959_b0f582526af6adb523ad1036d0b0a6ff3437ea61.jpg?alt=media&token=c56af73d-0bfa-492d-8680-e1588d72d1b6{% endif %}"
            alt="ImHereTravels Banner"
            style="
            width: 100%;
            max-width: 636px;
            height: 300px;
            object-fit: cover;
            object-position: 50% 85%;
            display: block;
            margin: 0 auto;
            "
            />
    </div>

    <div style="
        max-width: 600px;
        margin: 0 auto;
        background-color: #ffffff;
        padding: 30px 20px;
        ">

      <!-- Payment Reminder Header -->
      <div style="text-align: center; margin-bottom: 25px;">
        <h2 style="color: #333333; margin: 0; font-size: 20px; font-weight: bold;">Upcoming payment reminder</h2>
      </div>

      <!-- Greeting -->
      <p style="font-size: 15px; color: #666666; margin: 0 0 20px 0;">
        Hi <strong>{{ fullName }}</strong>,
      </p>

      <p style="font-size: 15px; color: #666666; margin: 0 0 15px 0;">
        Thank you for selecting your payment method and plan. We're excited to have you join us for
        <strong style="color: #e74c3c;">{{ tourPackage }}</strong>!
      </p>

      <p style="font-size: 15px; color: #666666; margin: 0 0 25px 0;">
        Please take a moment to review the details below and ensure everything looks correct:
      </p>

      <!-- Tour Details -->
      <div style="
        background-color: #f5f5f5;
        padding: 20px;
        border-radius: 12px;
        margin: 25px 0;
        border-left: 5px solid #e74c3c;
        ">
        <h3 style="color: #333333; margin: 0 0 15px 0; font-size: 16px; font-weight: bold;">Tour Details</h3>
        <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
          <tr style="border-bottom: 1px solid #e0e0e0;">
            <td style="padding: 10px 0; color: #666666; font-weight: 500;">Tour</td>
            <td style="padding: 10px 0; color: #333333; text-align: right;">{{ tourPackage }}</td>
          </tr>
          <tr style="border-bottom: 1px solid #e0e0e0;">
            <td style="padding: 10px 0; color: #666666; font-weight: 500;">Payment Plan</td>
            <td style="padding: 10px 0; color: #333333; text-align: right;">{{ paymentPlan }}</td>
          </tr>
          <tr>
            <td style="padding: 10px 0; color: #666666; font-weight: 500; vertical-align: top;">Payment Method</td>
            <td style="padding: 10px 0; color: #333333; text-align: right;">
              {{ paymentMethod }}
              {% if paymentMethod == "Stripe" %}
              <br />
              <a href="https://buy.stripe.com/7sY5kD5NF2uBfGj1NJco03g" target="_blank" style="
                        background-color: #28a745;
                        color: white;
                        text-decoration: none;
                        font-weight: bold;
                        padding: 8px 16px;
                        border-radius: 4px;
                        display: inline-block;
                        margin-top: 8px;
                        ">Pay securely online with Stripe</a>
              {% elif paymentMethod == "Revolut" %}
              <br /><br />
              <span style="font-size: 13px; color: #666666;">
                            <strong>Account Name:</strong> I'M HERE TRAVELS LTD<br />
                            <strong>Account Number:</strong> 36834154<br />
                            <strong>Sort Code:</strong> 23-01-20<br />
                            <strong>IBAN:</strong> GB52REVO00996983499052<br />
                            <strong>BIC:</strong> REVOGB21
                        </span>
              {% elif paymentMethod == "Ulster" %}
              <br /><br />
              <span style="font-size: 13px; color: #666666;">
                            <strong>Account Name:</strong> Shawn V Keeley<br />
                            <strong>Account Number:</strong> 10561155<br />
                            <strong>Sort Code:</strong> 98-05-83<br />
                            <strong>IBAN:</strong> GB45ULSB98058310561155<br />
                            <strong>BIC:</strong> ULSBGB2B
                        </span>
              {% else %}
              <br /><br />
              <span style="font-size: 13px; color: #666666;">[Details will be provided separately]</span>
              {% endif %}
            </td>
          </tr>
        </table>
      </div>

      <p style="font-size: 15px; color: #666666; margin: 0 0 25px 0;">
        We've outlined your payment terms and due dates below. To ensure you don't miss any payments, please click 'Yes'
        to add the payment due date reminders directly to your calendar.
      </p>

      <!-- Payment Tracker -->
      <div style="
        background-color: #f5f5f5;
        padding: 20px;
        border-radius: 12px;
        margin: 25px 0;
        border-left: 5px solid #4caf50;
        ">
        <h3 style="color: #333333; margin: 0 0 15px 0; font-size: 16px; font-weight: bold;">Payment Tracker</h3>

        <table style="
            border-collapse: collapse;
            width: 100%;
            font-size: 14px;
            border: 1px solid #ddd;
            " cellpadding="8" cellspacing="0">
          <thead style="background-color: #f9f9f9;">
            <tr>
              <th
                style="border: 1px solid #ddd; text-align: left; font-weight: bold; padding: 10px; color: #666666; font-weight: 500;">
                Payment Term</th>
              <th
                style="border: 1px solid #ddd; text-align: left; font-weight: bold; padding: 10px; color: #666666; font-weight: 500;">
                Amount</th>
              <th
                style="border: 1px solid #ddd; text-align: left; font-weight: bold; padding: 10px; color: #666666; font-weight: 500;">
                Due Date</th>
              <th
                style="border: 1px solid #ddd; text-align: left; font-weight: bold; padding: 10px; color: #666666; font-weight: 500;">
                Add to Calendar</th>
            </tr>
          </thead>
          <tbody>
            {% for term in terms %}
            <tr>
              <td style="border: 1px solid #ddd; padding: 10px; color: #333333;">{{ term.name }}</td>
              <td style="border: 1px solid #ddd; padding: 10px; color: #333333;">{{ term.amount or "" }}</td>
              <td style="border: 1px solid #ddd; padding: 10px; color: #333333;">{{ term.dueDate or "" }}</td>
              <td style="border: 1px solid #ddd; padding: 10px;">
                {% if term.calendarLink %}
                <a href="{{ term.calendarLink }}" target="_blank"
                  style="color: #2196F3; text-decoration: none;">Calendar link</a>
                {% else %} - {% endif %}
              </td>
            </tr>
            {% endfor %}
            <tr style="background-color: #f9f9f9;">
              <td style="border: 1px solid #ddd; padding: 10px; font-weight: bold; color: #333333;">Total</td>
              <td style="border: 1px solid #ddd; padding: 10px; font-weight: bold; color: #4caf50;" colspan="3">{{
                remainingBalance }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <p style="font-size: 15px; color: #666666; margin: 0 0 20px 0;">
        <strong>You'll receive a reminder 3 days before each payment is due</strong>, ensuring you have plenty of time
        to stay on track. We've also added the payment due dates to your calendar for easy reference.
      </p>

      <p style="font-size: 15px; color: #666666; margin: 0 0 5px 0;">If you need any assistance or have questions, feel
        free to reach out to us.</p>

      <p style="font-size: 15px; color: #666666; margin: 0 0 5px 0;">Warm regards,</p>
      <p style="font-size: 15px; color: #666666; margin: 0 0 35px 0;"><strong>The I'm Here Travels Team</strong></p>

      <!-- Need Help Section -->
      <div style="
        background-color: #f5f5f5;
        padding: 20px;
        border-radius: 12px;
        margin: 25px 0;
        border-left: 5px solid #e74c3c;
        ">
        <h3 style="color: #e74c3c; margin: 0 0 15px 0; font-size: 16px; font-weight: bold; text-align: center;">Need
          help?</h3>
        <p style="color: #666666; margin: 0 0 10px 0; font-size: 14px; text-align: center;">
          Email us at <a href="mailto:bella@imheretravels.com"
            style="color: #2196F3; text-decoration: none;">bella@imheretravels.com</a>
        </p>
        <p style="color: #666666; margin: 0 0 15px 0; font-size: 14px; text-align: center;">
          or call us at +639163041767
        </p>
        <p style="color: #666666; margin: 0; font-size: 14px; text-align: center; font-weight: bold;">Connect</p>
        <div style="margin: 15px 0 0 0; text-align: center;">
          <a href="https://instagram.com/imheretravels" style="display: inline-block; margin: 0 8px;">
            <img src="https://firebasestorage.googleapis.com/v0/b/imheretravels-a3f81.firebasestorage.app/o/images%2F1769577611985_instagram-icon.png?alt=media&token=26e11a52-4b1b-4323-bca0-8ffb3b8889ab" alt="Instagram" style="width: 24px; height: 24px; display: inline-block;">
          </a>
          <a href="https://www.facebook.com/profile.php?id=100089932897402" style="display: inline-block; margin: 0 8px;">
            <img src="https://firebasestorage.googleapis.com/v0/b/imheretravels-a3f81.firebasestorage.app/o/images%2F1769578187350_facebook-icon.png?alt=media&token=0d59a081-d764-463a-8949-533dab620dc0" alt="Facebook" style="width: 24px; height: 24px; display: inline-block;">
          </a>
          <a href="https://www.tiktok.com/@imheretravels" style="display: inline-block; margin: 0 8px;">
            <img src="https://firebasestorage.googleapis.com/v0/b/imheretravels-a3f81.firebasestorage.app/o/images%2F1769577615216_tiktok-icon.png?alt=media&token=2d2d9e95-52c5-4cf7-8906-7377ad7957d8" alt="TikTok" style="width: 24px; height: 24px; display: inline-block;">
          </a>
          <a href="https://imheretravels.com" style="display: inline-block; margin: 0 8px;">
            <img src="https://firebasestorage.googleapis.com/v0/b/imheretravels-a3f81.firebasestorage.app/o/images%2F1769577613602_link-icon.png?alt=media&token=2a058d58-eaf7-4f53-bdea-845b2409764d" alt="Website" style="width: 24px; height: 24px; display: inline-block;">
          </a>
        </div>
      </div>

      <!-- Footer -->
      <div style="
        background-color: #2c3e50;
        padding: 30px 20px;
        border-radius: 12px;
        margin: 35px 0 0 0;
        text-align: center;
        color: #ffffff;
        ">
        <img
            src="https://firebasestorage.googleapis.com/v0/b/imheretravels-a3f81.firebasestorage.app/o/images%2F1768292814673_%F0%9F%9A%A3%20Logo%20Center%20(Row%20For%20Content%20Columns).png?alt=media&token=476fb69b-4cd5-4c56-901a-9190c15685f0"
            alt="ImHereTravels Logo"
            style="width: 150px; height: auto; display: block; margin: 0 auto 15px;"
            />
        <p style="margin: 0; font-size: 12px; color: #bdc3c7;">
          Â© 2026 I'm Here Travels. All rights reserved.
        </p>
      </div>
    </div>
</body>

</html>